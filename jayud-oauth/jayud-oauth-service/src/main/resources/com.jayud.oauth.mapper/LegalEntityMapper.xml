<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jayud.oauth.mapper.LegalEntityMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.jayud.model.po.LegalEntity">
        <id column="id" property="id" />
        <result column="legal_name" property="legalName" />
        <result column="legal_code" property="legalCode" />
        <result column="rigis_address" property="rigisAddress" />
        <result column="sale_depart_id" property="saleDepartId" />
        <result column="audit_status" property="auditStatus" />
        <result column="created_time" property="createdTime" />
        <result column="created_user" property="createdUser" />
        <result column="created_time" property="createdTime" />
        <result column="updated_time" property="updatedTime" />
        <result column="updated_user" property="updatedUser" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id,legal_name,legal_code,rigis_address,sale_depart_id,audit_status
    </sql>

    <select id="findLegalEntityByPage" parameterType="com.jayud.model.bo.QueryLegalEntityForm" resultType="com.jayud.model.vo.LegalEntityVO" >
        SELECT
          le.`id`,
          le.`legal_code` legalCode,
          le.`legal_name` legalName,
          le.`rigis_address` rigisAddress,
          d.`name` saleDepartName
        FROM
          legal_entity le
          LEFT JOIN department d
            ON le.`sale_depart_id` = d.`id`
    </select>

</mapper>
